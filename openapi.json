{
  "openapi": "3.1.0",
  "info": {
    "title": "AI-HUB Backend API",
    "description": "AI-HUB 서비스의 백엔드 API 명세서입니다.",
    "contact": {
      "name": "AI-HUB Support",
      "url": "https://github.com/AI-HUB"
    },
    "license": {
      "name": "MIT License"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Local Development Server"
    },
    {
      "url": "http://localhost:8080",
      "description": "Production Server"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "AI 모델 관리 (관리자)",
      "description": "AI 모델 등록, 수정, 삭제"
    },
    {
      "name": "토큰 관리",
      "description": "Access Token 갱신"
    },
    {
      "name": "지갑 관리 (관리자)",
      "description": "사용자 지갑 잔액 수정"
    },
    {
      "name": "메시지",
      "description": "메시지 전송 및 AI 응답 수신"
    },
    {
      "name": "AI 모델",
      "description": "AI 모델 정보 조회"
    },
    {
      "name": "인증",
      "description": "카카오 소셜 로그인 및 토큰 관리"
    },
    {
      "name": "채팅방 관리",
      "description": "채팅방 생성, 조회, 수정, 삭제"
    },
    {
      "name": "결제 내역",
      "description": "코인 충전 및 결제 내역 관리"
    },
    {
      "name": "대시보드",
      "description": "통계 및 사용량 대시보드"
    },
    {
      "name": "사용자 지갑",
      "description": "사용자 지갑 및 잔액 관리"
    },
    {
      "name": "코인 거래",
      "description": "코인 거래 내역 조회"
    },
    {
      "name": "사용자 관리",
      "description": "사용자 정보 조회 및 수정"
    }
  ],
  "paths": {
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "내 정보 조회",
        "operationId": "getCurrentUser",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "내 정보 수정",
        "operationId": "updateCurrentUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "사용자 관리"
        ],
        "summary": "회원 탈퇴",
        "operationId": "deleteCurrentUser",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/chat-rooms/{roomId}": {
      "get": {
        "tags": [
          "채팅방 관리"
        ],
        "summary": "채팅방 상세 조회",
        "operationId": "getChatRoom",
        "parameters": [
          {
            "name": "roomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseChatRoomResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "채팅방 관리"
        ],
        "summary": "채팅방 제목 수정",
        "operationId": "updateChatRoom",
        "parameters": [
          {
            "name": "roomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChatRoomRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseChatRoomResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "채팅방 관리"
        ],
        "summary": "채팅방 삭제",
        "operationId": "deleteChatRoom",
        "parameters": [
          {
            "name": "roomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/admin/models/{modelId}": {
      "put": {
        "tags": [
          "AI 모델 관리 (관리자)"
        ],
        "summary": "AI 모델 수정",
        "operationId": "updateModel",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAIModelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAIModelResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI 모델 관리 (관리자)"
        ],
        "summary": "AI 모델 삭제",
        "operationId": "deleteModel",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/token/refresh": {
      "post": {
        "tags": [
          "토큰 관리"
        ],
        "summary": "토큰 갱신",
        "operationId": "refreshToken",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTokenRefreshResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/send/{roomId}": {
      "post": {
        "tags": [
          "메시지"
        ],
        "summary": "메시지 전송 (SSE 스트리밍)",
        "operationId": "sendMessage",
        "parameters": [
          {
            "name": "roomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/files/upload": {
      "post": {
        "tags": [
          "메시지"
        ],
        "summary": "파일 업로드",
        "operationId": "uploadFile",
        "parameters": [
          {
            "name": "modelId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseFileUploadResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chat-rooms": {
      "get": {
        "tags": [
          "채팅방 관리"
        ],
        "summary": "채팅방 목록 조회",
        "operationId": "getChatRooms",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "createdAt,desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponsePageChatRoomListItemResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "채팅방 관리"
        ],
        "summary": "채팅방 생성",
        "operationId": "createChatRoom",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChatRoomRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseChatRoomResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "로그아웃",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/admin/models": {
      "post": {
        "tags": [
          "AI 모델 관리 (관리자)"
        ],
        "summary": "AI 모델 등록",
        "operationId": "createModel",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAIModelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAIModelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/wallet": {
      "patch": {
        "tags": [
          "지갑 관리 (관리자)"
        ],
        "summary": "사용자 지갑 잔액 수정",
        "operationId": "modifyUserWallet",
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "amount",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/wallet": {
      "get": {
        "tags": [
          "사용자 지갑"
        ],
        "summary": "지갑 상세 조회",
        "operationId": "getUserWallet",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserWalletResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/wallet/balance": {
      "get": {
        "tags": [
          "사용자 지갑"
        ],
        "summary": "코인 잔액 조회",
        "operationId": "getBalance",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseBalanceResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions": {
      "get": {
        "tags": [
          "코인 거래"
        ],
        "summary": "코인 거래 내역 조회",
        "operationId": "getTransactions",
        "parameters": [
          {
            "name": "transactionType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponsePageCoinTransactionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/payments": {
      "get": {
        "tags": [
          "결제 내역"
        ],
        "summary": "결제 내역 목록 조회",
        "operationId": "getPayments",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponsePagePaymentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/payments/{paymentId}": {
      "get": {
        "tags": [
          "결제 내역"
        ],
        "summary": "결제 상세 조회",
        "operationId": "getPayment",
        "parameters": [
          {
            "name": "paymentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponsePaymentResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/models": {
      "get": {
        "tags": [
          "AI 모델"
        ],
        "summary": "활성화된 AI 모델 목록 조회",
        "operationId": "getActiveModels",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListAIModelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/{messageId}": {
      "get": {
        "tags": [
          "메시지"
        ],
        "summary": "메시지 상세 조회",
        "operationId": "getMessage",
        "parameters": [
          {
            "name": "messageId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseMessageResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/messages/page/{roomId}": {
      "get": {
        "tags": [
          "메시지"
        ],
        "summary": "메시지 목록 조회",
        "operationId": "getMessages",
        "parameters": [
          {
            "name": "roomId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "createdAt,asc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponsePageMessageListItemResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/usage/monthly": {
      "get": {
        "tags": [
          "대시보드"
        ],
        "summary": "월별 사용량 조회",
        "operationId": "getMonthlyUsage",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "maximum": 12,
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseMonthlyUsageResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/stats": {
      "get": {
        "tags": [
          "대시보드"
        ],
        "summary": "사용자 통계 조회",
        "operationId": "getUserStats",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/models/pricing": {
      "get": {
        "tags": [
          "대시보드"
        ],
        "summary": "모델 가격 조회",
        "operationId": "getModelPricing",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListModelPricingResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 30,
            "minLength": 2
          },
          "email": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "username"
        ]
      },
      "ApiResponseUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/UserResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "isActivated": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UpdateChatRoomRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 30,
            "minLength": 0
          }
        },
        "required": [
          "title"
        ]
      },
      "ApiResponseChatRoomResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/ChatRoomResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ChatRoomResponse": {
        "type": "object",
        "properties": {
          "roomId": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "coinUsage": {
            "type": "number"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UpdateAIModelRequest": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": "string",
            "maxLength": 30,
            "minLength": 0
          },
          "displayExplain": {
            "type": "string",
            "maxLength": 200,
            "minLength": 0
          },
          "inputPricePer1m": {
            "type": "number",
            "minimum": 0.0
          },
          "outputPricePer1m": {
            "type": "number",
            "minimum": 0.0
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "AIModelResponse": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "modelName": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "displayExplain": {
            "type": "string"
          },
          "inputPricePer1m": {
            "type": "number"
          },
          "outputPricePer1m": {
            "type": "number"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseAIModelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/AIModelResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseTokenRefreshResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/TokenRefreshResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TokenRefreshResponse": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string"
          },
          "expiresIn": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SendMessageRequest": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "fileId": {
            "type": "string"
          },
          "previousResponseId": {
            "type": "string"
          }
        },
        "required": [
          "message",
          "modelId"
        ]
      },
      "SseEmitter": {
        "type": "object",
        "properties": {
          "timeout": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ApiResponseFileUploadResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/FileUploadResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FileUploadResponse": {
        "type": "object",
        "properties": {
          "fileId": {
            "type": "string"
          }
        }
      },
      "CreateChatRoomRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 30,
            "minLength": 0
          },
          "modelId": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "modelId",
          "title"
        ]
      },
      "CreateAIModelRequest": {
        "type": "object",
        "properties": {
          "modelName": {
            "type": "string",
            "pattern": "^[a-z0-9.-]+$"
          },
          "displayName": {
            "type": "string",
            "maxLength": 30,
            "minLength": 0
          },
          "displayExplain": {
            "type": "string",
            "maxLength": 200,
            "minLength": 0
          },
          "inputPricePer1m": {
            "type": "number",
            "minimum": 0.0
          },
          "outputPricePer1m": {
            "type": "number",
            "minimum": 0.0
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "required": [
          "displayName",
          "inputPricePer1m",
          "isActive",
          "modelName",
          "outputPricePer1m"
        ]
      },
      "ApiResponseVoid": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "type": "object"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseUserWalletResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/UserWalletResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserWalletResponse": {
        "type": "object",
        "properties": {
          "walletId": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "balance": {
            "type": "number"
          },
          "totalPurchased": {
            "type": "number"
          },
          "totalUsed": {
            "type": "number"
          },
          "lastTransactionAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseBalanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/BalanceResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "BalanceResponse": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "number"
          }
        }
      },
      "ApiResponsePageCoinTransactionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/PageCoinTransactionResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CoinTransactionResponse": {
        "type": "object",
        "properties": {
          "transactionId": {
            "type": "integer",
            "format": "int64"
          },
          "transactionType": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "balanceAfter": {
            "type": "number"
          },
          "description": {
            "type": "string"
          },
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "modelName": {
            "type": "string"
          },
          "roomId": {
            "type": "string"
          },
          "messageId": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PageCoinTransactionResponse": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CoinTransactionResponse"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sortnull"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageablenull"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "Pageablenull": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "$ref": "#/components/schemas/Sortnull"
          },
          "paged": {
            "type": "boolean"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "unpaged": {
            "type": "boolean"
          }
        }
      },
      "Sortnull": {
        "type": "object",
        "properties": {
          "empty": {
            "type": "boolean"
          },
          "sorted": {
            "type": "boolean"
          },
          "unsorted": {
            "type": "boolean"
          }
        }
      },
      "ApiResponsePagePaymentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/PagePaymentResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PagePaymentResponse": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentResponse"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sortnull"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageablenull"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PaymentResponse": {
        "type": "object",
        "properties": {
          "paymentId": {
            "type": "integer",
            "format": "int64"
          },
          "transactionId": {
            "type": "string"
          },
          "paymentMethod": {
            "type": "string"
          },
          "amountKrw": {
            "type": "number"
          },
          "amountUsd": {
            "type": "number"
          },
          "coinAmount": {
            "type": "number"
          },
          "bonusCoin": {
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "paymentGateway": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {}
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponsePaymentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/PaymentResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseListAIModelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AIModelResponse"
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseMessageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/MessageResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MessageResponse": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string"
          },
          "roomId": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "fileUrl": {
            "type": "string"
          },
          "tokenCount": {
            "type": "number"
          },
          "coinCount": {
            "type": "number"
          },
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponsePageMessageListItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/PageMessageListItemResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MessageListItemResponse": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "tokenCount": {
            "type": "number"
          },
          "coinCount": {
            "type": "number"
          },
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PageMessageListItemResponse": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessageListItemResponse"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sortnull"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageablenull"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseMonthlyUsageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/MonthlyUsageResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DailyUsageDetail": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "coinUsed": {
            "type": "number"
          },
          "messageCount": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ModelUsageDetail": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "modelName": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "coinUsed": {
            "type": "number"
          },
          "messageCount": {
            "type": "integer",
            "format": "int64"
          },
          "tokenCount": {
            "type": "number"
          },
          "percentage": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "MonthlyUsageResponse": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "month": {
            "type": "integer",
            "format": "int32"
          },
          "totalCoinUsed": {
            "type": "number"
          },
          "modelUsage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelUsageDetail"
            }
          },
          "dailyUsage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyUsageDetail"
            }
          }
        }
      },
      "ApiResponseUserStatsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/UserStatsResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MostUsedModel": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "modelName": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "usagePercentage": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "UserStatsResponse": {
        "type": "object",
        "properties": {
          "totalCoinPurchased": {
            "type": "number"
          },
          "totalCoinUsed": {
            "type": "number"
          },
          "currentBalance": {
            "type": "number"
          },
          "totalMessages": {
            "type": "integer",
            "format": "int64"
          },
          "totalChatRooms": {
            "type": "integer",
            "format": "int64"
          },
          "mostUsedModel": {
            "$ref": "#/components/schemas/MostUsedModel"
          },
          "last30DaysUsage": {
            "type": "number"
          },
          "memberSince": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseListModelPricingResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelPricingResponse"
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ModelPricingResponse": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "integer",
            "format": "int32"
          },
          "modelName": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "inputPricePer1m": {
            "type": "number"
          },
          "outputPricePer1m": {
            "type": "number"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ApiResponsePageChatRoomListItemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "detail": {
            "$ref": "#/components/schemas/PageChatRoomListItemResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ChatRoomListItemResponse": {
        "type": "object",
        "properties": {
          "roomId": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "coinUsage": {
            "type": "number"
          },
          "lastMessageAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PageChatRoomListItemResponse": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatRoomListItemResponse"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/Sortnull"
          },
          "pageable": {
            "$ref": "#/components/schemas/Pageablenull"
          },
          "empty": {
            "type": "boolean"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "description": "JWT Access Token을 사용한 인증. Authorization 헤더에 \u0027Bearer {token}\u0027 형식으로 전달해주세요.",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}